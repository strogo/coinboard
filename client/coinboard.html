<head>
  <title>coinboard.net</title>
</head>

<body>
  <div class="container">
    {{> coinboard}}
    <footer>
      created by <a href="http://guaka.org/">guaka</a>, <a href="http://github.com/guaka/coinboard">code at github</a>
    </footer>
  </div>
</body>

<template name="coinboard">
  <h1>coinboard.net</h1>
  
  <div class="row">
    <div class="span6">
      <h2>ticker</h2>

      {{> canvas}}

      <div class="btn-group">
        <button class="btn {{#if currencyIs 'USD'}}btn-success{{/if}}" value="USD">USD 1</button>
        <button class="btn {{#if currencyIs 'EURUSD'}}btn-success{{/if}}" value="EURUSD">EURUSD {{eurusd}}</button>
      </div>
      <table>
        <tr>
          <th>time</th>
          <th>ask</th>
          <th>bid</th>
          <th>high</th>
          <th>last</th>
          <th>low</th>
          <th>volume</th>
        </tr>
        {{#each ticker}}
        <tr>
          <td>{{datetime}}</td>
          <td>{{ask}}</td>
          <td>{{bid}}</td>
          <td>{{high}}</td>
          <td>{{last}}</td>
          <td>{{low}}</td>
          <td>{{volume}}</td>
        </tr>
        {{/each}}
      </table>
    </div>

    <div class="span6">
      <h2>latest transactions</h2>
      {{#each transactions}}
      <div>{{value}}</div>
      {{/each}}
    </div>
  </div>
  
  <div id="blockchainStatus"></div>
  <div id="mtgoxStatus"></div>

</template>


<template name="canvas">
  {{#isolate}}
  <canvas id="myChart" width="400" height="200"></canvas>
  {{/isolate}}
</template>
